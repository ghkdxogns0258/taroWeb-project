<!--taromain.html-->
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>타로 점 선택</title>
    <style>
        body {
            background-color: #232d32; /* 코발트 블루 배경색 */
            background-image: none; /* 배경 이미지 없음 */
            background-size: cover;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        .button-group {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        .button-group button {
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
            color: #FFA500; /* 주황색 텍스트 색상 */
            background-color: transparent; /* 배경색 투명화 */
            border: 2px solid #FFA500; /* 테두리 추가 및 색상 설정 */
        }
        #selected-card-info {
            margin-top: 20px;
            font-size: 18px;
            color: #FFA500; /* 주황색 텍스트 색상 */
        }
        #draw-card-button {
            display: none; /* 초기에는 숨김 */
            justify-content: center;
            align-items: center;
            margin: 0 auto; /* 좌우 여백을 자동 조절하여 가운데 정렬 */
            margin-top: 20px;
            padding: 0; /* 패딩 제거 */
            width: 100px; /* 너비 조정 */
            height: 160px; /* 높이 조정 */
            border: none;
            background-color: #232d32; /* 배경 이미지 적용 */
            background-image: url('card_backside.jpg'); /* 배경 이미지 추가 */
            background-size: contain; /* 배경 이미지 크기 조정 */
            background-repeat: no-repeat; /* 배경 이미지 반복 제거 */
            background-position: center; /* 배경 이미지 위치 가운데 정렬 */
        }

    </style>
</head>
<body>
    <div class="container">
        <h2 style="color: #FFA500;">타로 점 선택</h2>
        <div class="button-group">
            <button id="one-card-button" data-card-limit="1">원카드</button>
            <button id="three-cards-button" data-card-limit="3">쓰리카드</button>
            <button id="four-cards-button" data-card-limit="4">포카드</button>
            <button id="five-cards-button" data-card-limit="5">파이브카드</button>
        </div>
        <div>
            <button id="reverse-button" style="display:none;">역방향 키기/끄기</button>
            <button id="major-minor-button" style="display:none;">메이저와 마이너 모두 사용</button>
        </div>
        <div id="selected-card-info"></div>
        <form id="card-form" action="pickcard.html" method="post">
            <input type="hidden" id="selected-card" name="selected-card">
            <input type="hidden" id="selected-card-type" name="selected-card-type"> <!-- 추가된 부분: 선택된 점괘 종류 -->
            <button id="draw-card-button" type="submit"></button> <!-- 수정된 부분: 카드 모양의 버튼 -->
        </form>
    </div>

    <script>
        // 선택된 점괘 카드를 저장하는 변수
        let selectedCard = null;

        // 선택된 카드의 개수를 저장하는 변수
        let selectedCardCount = 0;

        // 역방향 상태를 저장하는 변수
        let reverseMode = false;

        // 페이지 로드 시 초기화 함수
        window.onload = function() {
            hideReverseButton();
            hideMajorMinorButton();
        };

        // 버튼 클릭 이벤트 처리
        document.getElementById("one-card-button").addEventListener("click", function() {
            selectedCardCount = 1; // 원 카드 선택 시 1장
            selectedCard = "원카드";
            updateSelectedCardInfo();
            showDrawCardButton();
            showReverseButton(); // 역방향 버튼 보이기
            hideMajorMinorButton(); // 메이저와 마이너 버튼 숨기기
        });

        document.getElementById("three-cards-button").addEventListener("click", function() {
            selectedCardCount = 3; // 쓰리 카드 선택 시 3장
            selectedCard = "쓰리카드";
            updateSelectedCardInfo();
            showDrawCardButton();
            showReverseButton(); // 역방향 버튼 보이기
            hideMajorMinorButton(); // 메이저와 마이너 버튼 숨기기
        });

        document.getElementById("four-cards-button").addEventListener("click", function() {
            selectedCardCount = 4; // 포 카드 선택 시 4장
            selectedCard = "포카드";
            updateSelectedCardInfo();
            showDrawCardButton();
            showReverseButton(); // 역방향 버튼 보이기
            showMajorMinorButton(); // 메이저와 마이너 버튼 보이기
        });

        document.getElementById("five-cards-button").addEventListener("click", function() {
            selectedCardCount = 5; // 파이브 카드 선택 시 5장
            selectedCard = "파이브카드";
            updateSelectedCardInfo();
            showDrawCardButton();
            showReverseButton(); // 역방향 버튼 보이기
            showMajorMinorButton(); // 메이저와 마이너 버튼 보이기
        });

        document.getElementById("reverse-button").addEventListener("click", function() {
            reverseMode = !reverseMode;
            updateSelectedCardInfo();
        });

        document.getElementById("major-minor-button").addEventListener("click", function() {
            if (selectedCard.includes("메이저와 마이너 모두 사용")) {
                selectedCard = selectedCard.replace(", 메이저와 마이너 모두 사용", "");
            } else {
                selectedCard += ", 메이저와 마이너 모두 사용";
            }
            updateSelectedCardInfo();
        });

        document.getElementById("draw-card-button").addEventListener("click", function() {
            // 선택된 카드를 hidden input에 설정
            document.getElementById("selected-card").value = selectedCard;
            document.getElementById("selected-card-type").value = selectedCard; // 추가된 부분: 선택된 점괘 종류를 hidden input에 설정
        });

        // 역방향 버튼을 숨기는 함수
        function hideReverseButton() {
            document.getElementById("reverse-button").style.display = "none";
        }

        // 역방향 버튼을 보이는 함수
        function showReverseButton() {
            document.getElementById("reverse-button").style.display = "block";
        }

        // 메이저와 마이너 버튼을 숨기는 함수
        function hideMajorMinorButton() {
            document.getElementById("major-minor-button").style.display = "none";
        }

        // 메이저와 마이너 버튼을 보이는 함수
        function showMajorMinorButton() {
            document.getElementById("major-minor-button").style.display = "block";
        }

        // 선택된 카드 정보 업데이트 함수
        function updateSelectedCardInfo() {
            const selectedCardInfoElement = document.getElementById("selected-card-info");
            if (selectedCard) {
                selectedCardInfoElement.textContent = `선택된 카드: ${selectedCard}, 역방향 상태: ${reverseMode ? '활성화' : '비활성화'}`;
            } else {
                selectedCardInfoElement.textContent = "카드를 선택하세요.";
            }
        }

        // 카드 뽑기 버튼 표시 함수
        function showDrawCardButton() {
            const drawCardButton = document.getElementById("draw-card-button");
            drawCardButton.style.display = "block";
        }
    </script>
</body>
</html>
